<!-- This file is full of crappy, dummy & experimental snippets -->
<!--suppress ALL -->
<%= render 'pages/search/hots' %>

<button class="input-group-text toggle-password-btn bg-white" onclick="removeHot()" type="submit">
  <i class="bi bi-search" aria-hidden="true"></i>
</button>

<%= link_to new_review_path(entry),
            class: "btn-sm m-0 btn-outline-secondary text-decoration-none text-center justify-content-center",
            style: "background-color: #ababab; color: white; float: right; height: 2em; padding-top: 2px;" do %>
  <small>
    <i class="bi bi-patch-question-fill" data-bs-toggle="tooltip"
       data-bs-placement="top" title="Verify Translation">  Verify</i>
  </small>
<% end %>

<input class="form-check-input" type="checkbox" id="edit-verify-<%= entry.id %>"
       style="width: 5em; height: 1.4em; margin-top: 0;"
       onclick="submitEditReview(<%= entry.id%>)" <% checked %> >

<div class="container">
  <div class="row justify-content-center">
    <div class="col-md-7 my-auto">
      <button class="btn btn-light btn-block dropdown-toggle text-secondary" type="button" data-bs-toggle="collapse" data-bs-target="#editYourDetails" aria-expanded="false" aria-controls="editYourDetails">
        Edit your details
      </button>
      <br>
      <div class="collapse" id="editYourDetails">
        <div class="card-group mb-0">
          <div class="card p-4">
            <div class="card-body">
              <div class="d-flex flex-column">
                <br>
                <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
                  <%= form_group_tag(resource.errors[:username]) do %>
                    <div class="field">
                      <%= f.text_field :username, class: 'form-control', placeholder: 'username' %>
                      <% resource.errors.full_messages_for(:username).each do |message| %>
                        <small class="help-block text-danger"><%= message %></small>
                      <% end %>
                    </div>
                  <% end %>

                  <%= form_group_tag(resource.errors[:email]) do %>
                    <div class="field">
                      <%= f.text_field :email, class: 'form-control', placeholder: 'email', autocomplete: "email" %>
                      <% resource.errors.full_messages_for(:email).each do |message| %>
                        <small class="help-block text-danger"><%= message %></small>
                      <% end %>
                    </div>
                  <% end %>

                  <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
                    <div>
                      Currently waiting confirmation for: <%= resource.unconfirmed_email %>
                    </div>
                  <% end %>

                  <%= form_group_tag(resource.errors[:current_password]) do %>
                    <div class="field">
                      <%= f.password_field :current_password, autocomplete: "new-password",
                                           class: 'form-control', placeholder: 'Enter current password' %>
                      <% resource.errors.full_messages_for(:current_password).each do |message| %>
                        <small class="help-block text-danger"><%= message %></small>
                        <br>
                      <% end %>
                      <small class="help-block text-secondary">
                        We need your current password to confirm your changes
                      </small>
                    </div>
                  <% end %>

                  <button class="btn btn-outline-light btn-block dropdown-toggle text-secondary" type="button" data-bs-toggle="collapse" data-bs-target=".multi-collapse" aria-expanded="false" aria-controls="newPassword confirmNewPassword">
                    Change current password
                  </button>

                  <div class="collapse multi-collapse" id="newPassword">
                    <%= form_group_tag(resource.errors[:password]) do %>
                      <div class="field">
                        <small class="text-secondary">
                          <% if @minimum_password_length %>
                            <%= @minimum_password_length %> characters minimum.
                          <% end %><br/>
                        </small>
                        <%= f.password_field :password, autocomplete: "new-password",
                                             class: 'form-control', placeholder: 'New password' %>
                        <% resource.errors.full_messages_for(:password).each do |message| %>
                          <small class="help-block text-danger"><%= message %></small>
                        <% end %>
                      </div>
                    <% end %>
                  </div>

                  <div class="collapse multi-collapse" id="confirmNewPassword">
                    <%= form_group_tag(resource.errors[:password_confirmation]) do %>
                      <div class="field">
                        <small class="text-secondary">
                          Leave blank if you don't want to change it
                        </small>
                        <%= f.password_field :password_confirmation, autocomplete: "new-password",
                                             class: 'form-control', placeholder: 'confirm new password' %>
                        <% resource.errors.full_messages_for(:password_confirmation).each do |message| %>
                          <small class="help-block text-danger"><%= message %></small>
                        <% end %>
                      </div>
                    <% end %>
                  </div>
                  <br>
                  <div class="form-group">
                    <div class="actions">
                      <%= f.submit "Update Details", class: "btn btn-primary btn-block pull-right" %>
                    </div>
                  </div>
                <% end %>
                <hr>

                <div class="col-md-6 text-center mx-auto">
                  <h6>
                    Unhappy?
                  </h6>
                </div>

                <%= button_to "Delete Account", registration_path(resource_name),
                              class: "btn btn-danger btn-block",
                              data: { confirm: "Are you sure?" },
                              method: :delete %>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
    function updateUpvote(id) {
        let upvote = document.getElementById('upvote-' + id)
        let upcount = document.getElementById('upcount-' + id)
        let downvote = document.getElementById('downvote-' + id)
        let downcount = document.getElementById('downcount-' + id)

        if (<%= user_signed_in? %> && <%= current_user.voted_up_on? entry %>) {
            upvote.className = "bi bi-hand-thumbs-up";
            upvote.style.color = "#ababab";
            upcount.innerHTML = <%= votes_in_words(entry.get_upvotes.size) %> - 1;
        }

    else if (<%= user_signed_in? %> && <%= current_user.voted_down_on? entry %>) {
            upvote.className = "bi bi-hand-thumbs-up-fill";
            upvote.style.color = "#007bff";
            upcount.innerHTML = <%= votes_in_words(entry.get_upvotes.size) %> + 1;

            downvote.className = "bi bi-hand-thumbs-down";
            downvote.style.color = "#ababab";
            downcount.innerHTML = <%= votes_in_words(entry.get_downvotes.size) %> - 1;
            console.log('here')
        }

    else {
            upvote.className = "bi bi-hand-thumbs-up-fill";
            upvote.style.color = "#007bff";
            upcount.innerHTML = <%= votes_in_words(entry.get_upvotes.size) %> + 1;
        }
    }

    function updateDownvote(id) {
        let upvote = document.getElementById('upvote-' + id);
        let upcount = document.getElementById('upcount-' + id);
        let downvote = document.getElementById('downvote-' + id);
        let downcount = document.getElementById('downcount-' + id);

        if (<%= user_signed_in? %> && <%= current_user.voted_down_on? entry %>) {
            downvote.className = "bi bi-hand-thumbs-down";
            downvote.style.color = "#ababab";
            downcount.innerHTML = <%= votes_in_words(entry.get_downvotes.size) %> - 1;
        }

    else if (<%= user_signed_in? %> && <%= current_user.voted_up_on? entry %>) {
            upvote.className = "bi bi-hand-thumbs-up";
            upvote.style.color = "#ababab";
            upcount.innerHTML = <%= votes_in_words(entry.get_upvotes.size) %> - 1;

            downvote.className = "bi bi-hand-thumbs-down-fill";
            downvote.style.color = "#007bff";
            downcount.innerHTML = <%= votes_in_words(entry.get_downvotes.size) %> + 1;
        }

    else {
            downvote.className = "bi bi-hand-thumbs-down-fill";
            downvote.style.color = "#007bff";
            downcount.innerHTML = <%= votes_in_words(entry.get_downvotes.size) %> + 1;
        }
    }
</script>

<!--suppress ALL -->
<% if user_signed_in? and current_user.voted_up_on? entry %>
  <%= button_to unupvote_entry_path(entry), remote: true, method: :put,
                class: "btn btn-light like",
                id: "unupvote-button-#{ entry.id }" do %>
    <i class="bi bi-hand-thumbs-up-fill" style="color: #007bff;" id="unupvote-icon-<%= entry.id  %>"></i>
    <small id="upcount-<%= entry.id %>" style="color: #ababab;" >
      <%= votes_in_words(entry.get_likes.size) %>
    </small>
  <% end %>

<% elsif user_signed_in? and not current_user.voted_up_on? entry %>
  <%= button_to upvote_entry_path(entry), remote: true, method: :put,
                class: "btn btn-light like",
                id: "upvote-button-#{ entry.id }" do %>
    <i class="bi bi-hand-thumbs-up" style="color: #ababab;" id="upvote-icon-<%= entry.id  %>"></i>
    <small id="upcount-<%= entry.id %>" style="color: #ababab;">
      <%= votes_in_words(entry.get_likes.size) %>
    </small>
  <% end %>
<% end %>

<% if user_signed_in? and current_user.voted_down_on? entry %>
  <%= button_to undownvote_entry_path(entry), remote: true, method: :put,
                class: "btn btn-light dislike",
                id: "undownvote-button-#{ entry.id }" do %>
    <i class="bi bi-hand-thumbs-down-fill" style="color: #007bff;" id="undownvote-icon-<%= entry.id  %>"></i>
    <small id="downcount-<%= entry.id %>" style="color: #ababab;" >
      <%= votes_in_words(entry.get_dislikes.size) %>
    </small>
  <% end %>

<% elsif user_signed_in? and not current_user.voted_down_on? entry %>
  <%= button_to downvote_entry_path(entry), remote: true, method: :put,
                class: "btn btn-light dislike",
                id: "downvote-button-#{ entry.id }" do %>
    <i class="bi bi-hand-thumbs-down" style="color: #ababab;" id="downvote-icon-<%= entry.id  %>"></i>
    <small id="downcount-<%= entry.id %>" style="color: #ababab;">
      <%= votes_in_words(entry.get_dislikes.size) %>
    </small>
  <% end %>
<% end %>

<!-- Links to buttons -->
<%= link_to search_path, class: "btn-sm m-0 btn-outline-light text-decoration-none", style: "color: #ababab;" do %>
  <i class="bi bi-bookmark-plus" data-bs-toggle="tooltip" data-bs-placement="top" title="Save to bookmarks"></i>
<% end %>

<%= link_to search_path, class: "btn-sm m-0 btn-outline-light text-decoration-none ", style: "color: #ababab;" do %>
  <i class="bi bi-flag" data-bs-toggle="tooltip" data-bs-placement="top" title="Report translation"></i>
<% end %>

<%= link_to search_path, class: "btn-sm m-0 btn-outline-light text-decoration-none ", style: "color: #ababab;" do %>
  <i class="bi bi-share" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link"></i>
<% end %>


<% if flash[:notice] %>
  <div class="alert alert-success alert-dismissible fade show" role="alert">
    <%= flash[:notice] %>
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
<% elsif flash[:error] %>
  <div class="alert alert-danger alert-dismissible fade show" role="alert">
    <%= flash[:error] %>
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
<% elsif flash[:alert] %>
  <div class="alert alert-warning alert-dismissible fade show" role="alert">
    <%= flash[:alert] %>
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
<% end %>
























<!--suppress CheckTagEmptyBody -->
<br>
<div class="card p-3 border-0 shadow-sm">
  <%= form_for @entry do |f| %>
    <%= invisible_captcha %>

    <div class="row align-content-center">
      <div class="col my-auto">
        <div class="card-group mb-0">
          <div class="card card-border-style">
            <div class="card-header card-border-style small">
              <div class="row gx-5">

                <div class="col p-0 text-center">
                  <!-- From translation => modal -->
                  <button type="button" class="btn btn-outline-light p-2 dropdown-toggle text-secondary font-weight-bold" data-bs-toggle="modal" data-bs-target="#translationTypeModal">
                    <span class="title-text" id="from-title">Oshindonga</span>
                  </button>
                </div>

                <div class="col-1 p-0 text-center">
                  <!-- Swap translation -->
                  <button class="btn btn-outline-light p-2 text-secondary" id="swap-translation" type="button">
                    <i class="bi bi-arrow-left-right" style="font-size: 0.9rem;"></i>
                  </button>
                </div>

                <div class="col p-0 text-center">
                  <!-- To translation => modal -->
                  <button type="button" class="btn btn-outline-light p-2 dropdown-toggle text-secondary font-weight-bold" data-bs-toggle="modal" data-bs-target="#translationTypeModal">
                    <span class="title-text" id="to-title">English</span>
                  </button>
                </div>

                <!-- Set translation type, see js script at the bottom -->
                <%= f.hidden_field :translation, id: 'translation-type', value: 1 %>
                <%= f.hidden_field :language, id: 'language', value: 'a' %>

                <!-- Translation Modal -->
                <div class="modal fade p-0" id="translationTypeModal" tabindex="-1" aria-labelledby="translationTypeModal" aria-hidden="true">
                  <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content p-2">
                      <div class="modal-header">
                        <h5 class="modal-title" id="translationTypeModal">Select Translation</h5>
                        <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                          <span aria-hidden="true">&times</span>
                        </button>
                      </div>
                      <div class="modal-body">
                        <div>
                          <button class="btn menu-btn btn-block btn-outline-light border text-dark" id="one"
                                  style="margin-bottom: 0.2em;" type="button">
                            English to <span class="text-success">Oshindonga</span>
                          </button>
                        </div>

                        <div>
                          <button class="btn menu-btn btn-block btn-outline-light border text-dark" id="two"
                                  style="margin-bottom: 0.2em;" type="button">
                            <span class="text-success">Oshindonga</span> to English
                          </button>
                        </div>

                        <div>
                          <button class="btn menu-btn btn-block btn-outline-light border text-dark" id="three"
                                  style="margin-bottom: 0.2em;" type="button">
                            English to <span class="text-danger">Oshikwanyama</span>
                          </button>
                        </div>

                        <div>
                          <button class="btn menu-btn btn-block btn-outline-light border text-dark" id="four"
                                  style="margin-bottom: 0.2em;" type="button">
                            <span class="text-danger">Oshikwanyama</span> to English
                          </button>
                        </div>

                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" id="close-modal">Cancel</button>
                      </div>
                    </div>
                  </div>
                </div>

              </div>
            </div>
            <div class="card-body card-border-style p-0">
              <div class="row gx-5 mx-auto">
                <div class="col-md-6 p-0">
                  <div class="card from-card card-border-style p-2">

                    <div id="desktop-from-form-control" hidden>
                      <%= f.text_area :from, class: 'form-control small from-entry-form border-0',
                                      id: 'from-text', spellcheck: 'false', autofocus: 'autofocus' %>
                    </div>

                    <div id="mobile-from-form-control" hidden>
                      <div class="form-floating">
                        <%= f.text_area :from, class: 'form-control small from-entry-form border-0',
                                        id: 'from-text', spellcheck: 'false', autofocus: 'autofocus' %>
                        <label for="from-text" class="small text-secondary" id="from-text-label">
                          Oshindonga
                        </label>
                      </div>
                    </div>

                    <div class="text-right fs-6 p-0 m-0">
                      <button type="button" class="btn from-count-btn" disabled>
                        <span id="from-count">0 / 50</span>
                      </button>
                    </div>
                  </div>
                </div>

                <div class="col-md-6 p-0">
                  <div class="card to-card card-border-style border-0 p-2">

                    <div id="desktop-to-form-control" hidden>
                      <%= f.text_area :to, class: 'form-control small to-entry-form border-0',
                                      id: 'to-text', spellcheck: 'false', autofocus: 'autofocus' %>
                    </div>

                    <div id="mobile-to-form-control" hidden>
                      <div class="form-floating">
                        <%= f.text_area :to, class: 'form-control small to-entry-form border-0',
                                        id: 'to-text', spellcheck: 'false', autofocus: 'autofocus' %>
                        <label for="to-text" class="small text-secondary" id="to-text-label">
                          English
                        </label>
                      </div>
                    </div>

                    <div class="text-right fs-6 p-0 m-0">
                      <button type="button" class="btn to-count-btn" disabled>
                        <span id="to-count">0 / 50</span>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <p></p>

    <div class="row align-items-center">
      <div class="col-md-6">
        <div class="form-group">
          <div class="field">
            <div class="text-center">
              <%= f.submit "Post Translation", class: "btn btn-sm btn-primary btn-block font-weight-bold",
                           id: 'submit-btn'%>
            </div>
          </div>
        </div>
      </div>

      <div class="col-md-6">
        <div class="form-group">
          <div class="field">
            <div class="text-center">
              <% unless user_signed_in? %>
                <small class="text-secondary">
                  Posting as <%= link_to '@' + @kalipi.username, profile_path(@kalipi), class: 'text-decoration-none username' %>
                  <%= is_moderator(@kalipi) %>.
                </small>
                <small class="text-secondary">
                  Not a member yet?
                  <%= link_to 'Join Now', new_registration_path(resource_name), class: 'text-decoration-none text-primary' %>
                  or <%= link_to 'Sign In', new_session_path(resource_name) %>
                </small>
              <% else %>
                <div class="col">
                  <small class="text-secondary">
                    Posting as <%= link_to '@' + current_user.username, profile_path(current_user.username),
                                           class: 'text-decoration-none username' %>
                    <%= is_moderator(current_user) %>
                  </small>
                </div>
              <% end %>
            </div>
          </div>
        </div>
      </div>
    </div>
  <% end %>
</div>
<br>
<br>

<script>
    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
    var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
        return new bootstrap.Tooltip(tooltipTriggerEl)
    })

    // Position toast according to screen size
    if ($(window).width() > 767) {
        document.getElementById('desktop-from-form-control').hidden = false
        document.getElementById('mobile-from-form-control').hidden = true
        document.getElementById('desktop-to-form-control').hidden = false
        document.getElementById('mobile-to-form-control').hidden = true
    }
    else {
        document.getElementById('desktop-from-form-control').hidden = true
        document.getElementById('mobile-from-form-control').hidden = false
        document.getElementById('desktop-to-form-control').hidden = true
        document.getElementById('mobile-to-form-control').hidden = false
    }

    // Change translations when you click option in modal
    // 'type' is the translation option which is also the localStorage 'value'
    function translation(key, type, fromLanguage, toLanguage, language) {
        document.getElementById(type).addEventListener('click', function () {
            document.getElementById('translation-type').value = key;
            document.getElementById('from-title').innerHTML = fromLanguage;
            document.getElementById('to-title').innerHTML = toLanguage;

            document.getElementById('from-text-label').innerHTML = fromLanguage
            document.getElementById('to-text-label').innerHTML = toLanguage

            document.getElementById('language').value = language;
            localStorage.setItem('translation', type); // Save to localStorage

            document.getElementById('close-modal').click();  // Close the modal
        })
    }

    translation(1, 'one', 'English', 'Oshindonga', 'a');
    translation(2, 'two', 'Oshindonga', 'English', 'a');
    translation(3, 'three', 'English', 'Oshikwanyama', 'b');
    translation(4, 'four', 'Oshikwanyama', 'English', 'b');

    // Set translation
    function setTranslation(key, type, fromLanguage, toLanguage, language) {
        document.getElementById('translation-type').value = key;
        document.getElementById('from-title').innerHTML = fromLanguage;
        document.getElementById('to-title').innerHTML = toLanguage;

        document.getElementById('from-text-label').innerHTML = fromLanguage
        document.getElementById('to-text-label').innerHTML = toLanguage

        document.getElementById('language').value = language;
        localStorage.setItem('translation', type); // Save to localStorage
    }

    // Re-set to local storage again
    var transValue = localStorage.getItem('translation')  // currently stored 'value'
    if (transValue === 'one')
        setTranslation(1, 'one', 'English', 'Oshindonga', 'a');
    if (transValue === 'two')
        setTranslation(2, 'two', 'Oshindonga', 'English', 'a');
    if (transValue === 'three')
        setTranslation(3, 'three', 'English', 'Oshikwanyama', 'b');
    if (transValue === 'four')
        setTranslation(4, 'four', 'Oshikwanyama', 'English', 'b');

    // Swap translations on click
    document.getElementById('swap-translation').addEventListener('click', function () {
        var transValue = localStorage.getItem('translation')  // currently stored 'value'

        if (transValue === 'one')
            setTranslation(2, 'two', 'Oshindonga', 'English', 'a');
        if (transValue === 'two')
            setTranslation(1, 'one', 'English', 'Oshindonga', 'a');
        if (transValue === 'three')
            setTranslation(4, 'four', 'Oshikwanyama', 'English', 'b');
        if (transValue === 'four')
            setTranslation(3, 'three', 'English', 'Oshikwanyama', 'b');

        // [a, b] = [b, a];
        [document.getElementById('from-text').value, document.getElementById('to-text').value] =
            [document.getElementById('to-text').value, document.getElementById('from-text').value]
    })


    // Dynamically expand the textarea
    function expandTextarea(id) {
        document.getElementById(id).addEventListener('keyup', function() {
            this.style.overflow = 'hidden';
            this.style.height = 0;
            this.style.height = this.scrollHeight + 'px';
        }, false);

    }
    expandTextarea('from-text');
    expandTextarea('to-text')

    // I know this could've been one function and call it
    // twice but well, just two iterations so all good for now

    // Validate word limit, allowed characters and so on
    var format = /^[a-zA-Z,.!?'‘`’\-\s]*$/
    function validate() {
        // from textarea validations
        var fromText = document.getElementById('from-text');
        var fromWords = fromText.value.replace(/\s{2,}/g, ' ');
        var fromCount;
        if (fromWords === ' ' || fromWords === '')
            fromCount = 0;
        else
            fromCount = fromWords.trim().split(' ').length;

        var fromCountLabel = document.getElementById('from-count');
        fromCountLabel.innerHTML = fromCount + " / 50";
        fromCountLabel.style.color="#495057";

        if (fromCount > 50) {
            fromText.style.color="#dc3545";
            fromCountLabel.innerHTML = "Word limit exceeded: " + fromCount + " / 50";
            return  true;
        }

        if (!format.test(fromWords)) {
            fromText.style.color="#dc3545";
            fromCountLabel.innerHTML = "Your input contains an invalid character!";
            return true;
        }

        // to textarea validations
        var toText = document.getElementById('to-text');
        var toWords = toText.value.replace(/\s{2,}/g, ' ');
        var toCount;
        if (toWords === ' ' || toWords === '')
            toCount = 0;
        else
            toCount = toWords.trim().split(' ').length;

        var toCountLabel = document.getElementById('to-count');
        toCountLabel.innerHTML = toCount + " / 50";
        toCountLabel.style.color="#495057";

        if (toCount > 50) {
            toText.style.color="#dc3545";
            toCountLabel.innerHTML = "Word limit exceeded: " + toCount + " / 50";
            return  true;
        }

        if (!format.test(toWords)) {
            toText.style.color="#dc3545";
            toCountLabel.innerHTML = "Your input contains an invalid character!";
            return true;
        }

        // If both columns contain identical characters and if one column isn't empty
        // because space ' ' or '' kinda counts ☹️
        if ((fromWords.toLowerCase() === toWords.toLowerCase()) && (toCount !== 0) ) {
            fromText.style.color="#dc3545";
            fromCountLabel.innerHTML = "Translations can't be identical";

            toText.style.color="#dc3545";
            toCountLabel.innerHTML = "Translations can't be identical";
            return  true;
        }

        // Default form-control text color
        fromText.style.color="#495057";
        toText.style.color="#495057";

        // if one of the textarea is empty
        return fromWords.replace(/^\s+|\s+$/g, '').length === 0 || toWords.replace(/^\s+|\s+$/g, '').length === 0;
    }

    // Call the validate function on keyup in both form-controls
    document.getElementById('from-text').addEventListener('keyup', function () {
        document.getElementById('submit-btn').disabled = !!validate();
    })

    document.getElementById('to-text').addEventListener('keyup', function () {
        document.getElementById('submit-btn').disabled = !!validate();
    })

    if (document.getElementById('from-text').value.replace(/^\s+|\s+$/g, '').length === 0 || document.getElementById('to-text').value.replace(/^\s+|\s+$/g, '').length === 0)
        document.getElementById('submit-btn').disabled = true
</script>
